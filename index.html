<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spudy Intelligence Group | Analytics Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        spudy: {
                            dark: '#0f172a', // Slate 900
                            primary: '#0ea5e9', // Sky 500
                            secondary: '#3b82f6', // Blue 500
                            accent: '#22d3ee', // Cyan 400
                            surface: '#ffffff',
                            bg: '#f8fafc', // Slate 50
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .nav-item.active {
            background: rgba(14, 165, 233, 0.1);
            color: #0ea5e9;
            border-right: 3px solid #0ea5e9;
        }
        
        .fade-in {
            animation: fadeIn 0.4s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-spudy-bg text-slate-800 font-sans antialiased overflow-hidden">

    <div class="flex h-screen">
        
        <aside class="w-64 bg-white border-r border-slate-200 hidden md:flex flex-col z-10 transition-all duration-300" id="sidebar">
            <div class="h-16 flex items-center px-6 border-b border-slate-100">
                <div class="w-8 h-8 rounded bg-gradient-to-br from-spudy-primary to-spudy-secondary flex items-center justify-center text-white font-bold mr-3">
                    S
                </div>
                <div>
                    <h1 class="font-bold text-slate-800 text-sm leading-tight">SPUDY</h1>
                    <p class="text-[10px] text-slate-500 font-medium tracking-wider">INTELLIGENCE GROUP</p>
                </div>
            </div>

            <nav class="flex-1 overflow-y-auto py-4">
                <div class="px-4 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider">Analytics</div>
                
                <a href="#" onclick="switchView('overview')" id="nav-overview" class="nav-item active flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-chart-pie w-5"></i>
                    <span class="ml-3 text-sm font-medium">Overview</span>
                </a>

                <a href="#" onclick="switchView('social')" id="nav-social" class="nav-item flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-share-nodes w-5"></i>
                    <span class="ml-3 text-sm font-medium">Social Media</span>
                </a>

                <a href="#" onclick="switchView('web')" id="nav-web" class="nav-item flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-globe w-5"></i>
                    <span class="ml-3 text-sm font-medium">Web Analytics</span>
                </a>

                <div class="mt-6 px-4 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider">Products</div>

                <a href="#" onclick="switchView('games')" id="nav-games" class="nav-item flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-gamepad w-5"></i>
                    <span class="ml-3 text-sm font-medium">Spudy Games</span>
                </a>

                <a href="#" onclick="switchView('library')" id="nav-library" class="nav-item flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-book-open w-5"></i>
                    <span class="ml-3 text-sm font-medium">Spudy Library</span>
                </a>

                <div class="mt-6 px-4 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider">System</div>

                <a href="#" onclick="exportReport()" class="nav-item flex items-center px-6 py-3 text-slate-600 hover:bg-slate-50 hover:text-spudy-primary transition-colors">
                    <i class="fa-solid fa-file-export w-5"></i>
                    <span class="ml-3 text-sm font-medium">Export Report</span>
                </a>
            </nav>

            <div class="p-4 border-t border-slate-100">
                <div class="flex items-center">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=0ea5e9&color=fff" class="w-8 h-8 rounded-full" alt="Admin">
                    <div class="ml-3">
                        <p class="text-xs font-semibold text-slate-700">System Admin</p>
                        <p class="text-[10px] text-green-500 flex items-center"><span class="w-1.5 h-1.5 rounded-full bg-green-500 mr-1"></span> Online</p>
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col h-screen overflow-hidden relative">
            
            <header class="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 shadow-sm z-10">
                <div class="flex items-center">
                    <button class="md:hidden mr-4 text-slate-500 hover:text-spudy-primary" onclick="toggleSidebar()">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                    <h2 class="text-xl font-bold text-slate-800" id="page-title">Dashboard Overview</h2>
                </div>

                <div class="flex items-center space-x-4">
                    <div class="hidden sm:flex items-center bg-slate-50 border border-slate-200 rounded-md px-3 py-1.5">
                        <i class="fa-regular fa-calendar text-slate-400 text-xs mr-2"></i>
                        <select class="bg-transparent text-sm text-slate-600 outline-none cursor-pointer" id="dateFilter" onchange="updateData()">
                            <option value="7">Last 7 Days</option>
                            <option value="30" selected>Last 30 Days</option>
                            <option value="90">Last Quarter</option>
                            <option value="365">Year to Date</option>
                        </select>
                    </div>

                    <button class="relative p-2 text-slate-400 hover:text-spudy-primary transition-colors">
                        <i class="fa-regular fa-bell"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
                    </button>
                </div>
            </header>

            <div class="flex-1 overflow-y-auto p-8 bg-spudy-bg" id="main-scroll">
                
                <div id="view-overview" class="view-section fade-in">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-xs font-semibold text-slate-400 uppercase">Total Interactions</p>
                                    <h3 class="text-2xl font-bold text-slate-800 mt-1">2.4M</h3>
                                </div>
                                <div class="p-2 bg-blue-50 text-blue-500 rounded-lg">
                                    <i class="fa-solid fa-fingerprint"></i>
                                </div>
                            </div>
                            <div class="flex items-center text-xs">
                                <span class="text-green-500 font-bold flex items-center mr-2">
                                    <i class="fa-solid fa-arrow-up mr-1"></i> 12.5%
                                </span>
                                <span class="text-slate-400">vs last period</span>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-xs font-semibold text-slate-400 uppercase">Total Clicks</p>
                                    <h3 class="text-2xl font-bold text-slate-800 mt-1">854K</h3>
                                </div>
                                <div class="p-2 bg-cyan-50 text-cyan-500 rounded-lg">
                                    <i class="fa-solid fa-mouse-pointer"></i>
                                </div>
                            </div>
                            <div class="flex items-center text-xs">
                                <span class="text-green-500 font-bold flex items-center mr-2">
                                    <i class="fa-solid fa-arrow-up mr-1"></i> 8.2%
                                </span>
                                <span class="text-slate-400">vs last period</span>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-xs font-semibold text-slate-400 uppercase">Games Active Users</p>
                                    <h3 class="text-2xl font-bold text-slate-800 mt-1">42.8K</h3>
                                </div>
                                <div class="p-2 bg-indigo-50 text-indigo-500 rounded-lg">
                                    <i class="fa-solid fa-gamepad"></i>
                                </div>
                            </div>
                            <div class="flex items-center text-xs">
                                <span class="text-green-500 font-bold flex items-center mr-2">
                                    <i class="fa-solid fa-arrow-up mr-1"></i> 24%
                                </span>
                                <span class="text-slate-400">Growth explosion</span>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <p class="text-xs font-semibold text-slate-400 uppercase">Library Downloads</p>
                                    <h3 class="text-2xl font-bold text-slate-800 mt-1">15.2K</h3>
                                </div>
                                <div class="p-2 bg-orange-50 text-orange-500 rounded-lg">
                                    <i class="fa-solid fa-download"></i>
                                </div>
                            </div>
                            <div class="flex items-center text-xs">
                                <span class="text-red-500 font-bold flex items-center mr-2">
                                    <i class="fa-solid fa-arrow-down mr-1"></i> 2.1%
                                </span>
                                <span class="text-slate-400">vs last period</span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-bold text-slate-800 mb-4">Ecosystem Traffic Growth</h3>
                            <div class="h-64">
                                <canvas id="chart-overview-main"></canvas>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-bold text-slate-800 mb-4">Traffic Distribution</h3>
                            <div class="h-64 flex justify-center">
                                <canvas id="chart-overview-pie"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
                        <div class="px-6 py-4 border-b border-slate-100">
                            <h3 class="font-bold text-slate-800">Top Performing Channels</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-slate-600">
                                <thead class="text-xs text-slate-400 uppercase bg-slate-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">Channel Name</th>
                                        <th scope="col" class="px-6 py-3">Type</th>
                                        <th scope="col" class="px-6 py-3">Users</th>
                                        <th scope="col" class="px-6 py-3">Status</th>
                                        <th scope="col" class="px-6 py-3 text-right">Conversion</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium text-slate-800">Spudy Games (Mobile)</td>
                                        <td class="px-6 py-4">App</td>
                                        <td class="px-6 py-4">24,500</td>
                                        <td class="px-6 py-4"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded">Trending</span></td>
                                        <td class="px-6 py-4 text-right">18.5%</td>
                                    </tr>
                                    <tr class="bg-white border-b hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium text-slate-800">Spudy Library Web</td>
                                        <td class="px-6 py-4">Website</td>
                                        <td class="px-6 py-4">12,100</td>
                                        <td class="px-6 py-4"><span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">Stable</span></td>
                                        <td class="px-6 py-4 text-right">8.2%</td>
                                    </tr>
                                    <tr class="bg-white hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium text-slate-800">Instagram Campaign</td>
                                        <td class="px-6 py-4">Social</td>
                                        <td class="px-6 py-4">8,400</td>
                                        <td class="px-6 py-4"><span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded">Review</span></td>
                                        <td class="px-6 py-4 text-right">4.1%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="view-social" class="view-section hidden fade-in">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-bold text-slate-800 mb-4">Followers by Platform</h3>
                            <canvas id="chart-social-bar"></canvas>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h3 class="text-lg font-bold text-slate-800 mb-4">Engagement Rate (%)</h3>
                            <canvas id="chart-social-line"></canvas>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                         <div class="bg-blue-600 text-white p-4 rounded-lg text-center">
                            <i class="fa-brands fa-facebook text-2xl mb-2"></i>
                            <div class="text-sm opacity-80">Facebook</div>
                            <div class="text-xl font-bold">120K</div>
                         </div>
                         <div class="bg-pink-600 text-white p-4 rounded-lg text-center">
                            <i class="fa-brands fa-instagram text-2xl mb-2"></i>
                            <div class="text-sm opacity-80">Instagram</div>
                            <div class="text-xl font-bold">85K</div>
                         </div>
                         <div class="bg-black text-white p-4 rounded-lg text-center">
                            <i class="fa-brands fa-tiktok text-2xl mb-2"></i>
                            <div class="text-sm opacity-80">TikTok</div>
                            <div class="text-xl font-bold">210K</div>
                         </div>
                         <div class="bg-slate-800 text-white p-4 rounded-lg text-center">
                            <i class="fa-brands fa-x-twitter text-2xl mb-2"></i>
                            <div class="text-sm opacity-80">X</div>
                            <div class="text-xl font-bold">45K</div>
                         </div>
                         <div class="bg-red-600 text-white p-4 rounded-lg text-center">
                            <i class="fa-brands fa-youtube text-2xl mb-2"></i>
                            <div class="text-sm opacity-80">YouTube</div>
                            <div class="text-xl font-bold">92K</div>
                         </div>
                    </div>
                </div>

                <div id="view-web" class="view-section hidden fade-in">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 mb-6">
                        <div class="flex justify-between items-end mb-4">
                            <div>
                                <h3 class="text-lg font-bold text-slate-800">Website Traffic</h3>
                                <p class="text-sm text-slate-500">Unique visitors over time</p>
                            </div>
                            <div class="text-2xl font-bold text-spudy-primary">45,231 <span class="text-xs text-slate-400 font-normal">this month</span></div>
                        </div>
                        <div class="h-72">
                            <canvas id="chart-web-area"></canvas>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h4 class="font-bold text-slate-700 mb-3">Top Landing Pages</h4>
                            <ul class="space-y-3">
                                <li class="flex justify-between items-center text-sm">
                                    <span class="text-slate-600">/home</span>
                                    <span class="font-semibold">12,404</span>
                                </li>
                                <li class="w-full bg-slate-100 h-1 rounded-full overflow-hidden"><div class="bg-spudy-primary h-full" style="width: 80%"></div></li>
                                
                                <li class="flex justify-between items-center text-sm mt-2">
                                    <span class="text-slate-600">/games/download</span>
                                    <span class="font-semibold">8,200</span>
                                </li>
                                <li class="w-full bg-slate-100 h-1 rounded-full overflow-hidden"><div class="bg-spudy-primary h-full" style="width: 55%"></div></li>
                                
                                <li class="flex justify-between items-center text-sm mt-2">
                                    <span class="text-slate-600">/library/search</span>
                                    <span class="font-semibold">3,100</span>
                                </li>
                                <li class="w-full bg-slate-100 h-1 rounded-full overflow-hidden"><div class="bg-spudy-primary h-full" style="width: 25%"></div></li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 text-center flex flex-col justify-center">
                            <h4 class="font-bold text-slate-700 mb-1">Bounce Rate</h4>
                            <div class="text-4xl font-bold text-slate-800 mb-2">42.5%</div>
                            <p class="text-sm text-green-500 mb-6"><i class="fa-solid fa-arrow-down"></i> 1.2% Improvement</p>
                            
                            <h4 class="font-bold text-slate-700 mb-1">Avg. Session</h4>
                            <div class="text-4xl font-bold text-slate-800">03:45</div>
                            <p class="text-sm text-slate-400">Minutes</p>
                        </div>
                    </div>
                </div>

                <div id="view-games" class="view-section hidden fade-in">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <div class="col-span-2 bg-slate-800 text-white p-6 rounded-xl shadow-lg relative overflow-hidden">
                            <div class="relative z-10">
                                <h3 class="text-xl font-bold mb-1">Spudy Games Live Stats</h3>
                                <p class="text-slate-400 text-sm mb-6">Real-time player data</p>
                                <div class="grid grid-cols-3 gap-4">
                                    <div>
                                        <div class="text-3xl font-bold text-spudy-accent">1,204</div>
                                        <div class="text-xs text-slate-300">Players Online</div>
                                    </div>
                                    <div>
                                        <div class="text-3xl font-bold text-spudy-accent">15m</div>
                                        <div class="text-xs text-slate-300">Avg Playtime</div>
                                    </div>
                                    <div>
                                        <div class="text-3xl font-bold text-spudy-accent">89%</div>
                                        <div class="text-xs text-slate-300">Retention D1</div>
                                    </div>
                                </div>
                            </div>
                            <div class="absolute right-0 top-0 h-full w-1/2 bg-gradient-to-l from-spudy-primary to-transparent opacity-10"></div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                             <h3 class="font-bold text-slate-800 mb-4">Most Played</h3>
                             <canvas id="chart-games-pie"></canvas>
                        </div>
                    </div>
                </div>

                <div id="view-library" class="view-section hidden fade-in">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-white p-6 rounded-xl border-l-4 border-spudy-secondary shadow-sm">
                            <div class="text-slate-500 text-sm">Total Reads</div>
                            <div class="text-2xl font-bold">145,200</div>
                        </div>
                        <div class="bg-white p-6 rounded-xl border-l-4 border-spudy-accent shadow-sm">
                            <div class="text-slate-500 text-sm">PDF Downloads</div>
                            <div class="text-2xl font-bold">32,100</div>
                        </div>
                        <div class="bg-white p-6 rounded-xl border-l-4 border-purple-500 shadow-sm">
                            <div class="text-slate-500 text-sm">Active Contributors</div>
                            <div class="text-2xl font-bold">854</div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="font-bold text-slate-800 mb-4">Content Category Popularity</h3>
                        <div class="h-64">
                            <canvas id="chart-library-bar"></canvas>
                        </div>
                    </div>
                </div>

            </div>
            
            <footer class="bg-white border-t border-slate-200 py-3 px-8 text-xs text-slate-400 flex justify-between">
                <span>&copy; 2026 Spudy Intelligence Group. All rights reserved.</span>
                <span>System v2.4.0</span>
            </footer>
        </main>
    </div>

    <script>
        // Store Chart instances to destroy them before re-rendering (prevents canvas reuse errors)
        let chartInstances = {};

        // === Navigation Logic ===
        function switchView(viewName) {
            // Update Title
            const titles = {
                'overview': 'Dashboard Overview',
                'social': 'Social Media Analytics',
                'web': 'Website Performance',
                'games': 'Spudy Games Studio',
                'library': 'Spudy Digital Library'
            };
            document.getElementById('page-title').innerText = titles[viewName];

            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.add('hidden');
            });

            // Show selected section
            document.getElementById(`view-${viewName}`).classList.remove('hidden');

            // Update Sidebar Active State
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active', 'bg-slate-50', 'text-spudy-primary');
                el.classList.add('text-slate-600');
            });
            const activeNav = document.getElementById(`nav-${viewName}`);
            activeNav.classList.add('active');
            activeNav.classList.remove('text-slate-600');

            // Trigger Chart Render for that section
            renderChartsForView(viewName);
            
            // Close mobile menu if open
            const sidebar = document.getElementById('sidebar');
            if (!sidebar.classList.contains('hidden') && window.innerWidth < 768) {
                sidebar.classList.add('hidden');
            }
        }

        // === Chart Configuration & Data ===
        function renderChartsForView(view) {
            // Shared config
            Chart.defaults.font.family = "'Inter', sans-serif";
            Chart.defaults.color = '#64748b';
            
            const commonOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom', labels: { usePointStyle: true, boxWidth: 8 } }
                },
                scales: {
                    y: { grid: { borderDash: [4, 4], color: '#f1f5f9' }, beginAtZero: true },
                    x: { grid: { display: false } }
                }
            };

            // OVERVIEW CHARTS
            if (view === 'overview') {
                createChart('chart-overview-main', 'line', {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Spudy Games',
                        data: [120, 190, 300, 250, 200, 350, 400],
                        borderColor: '#0ea5e9',
                        backgroundColor: 'rgba(14, 165, 233, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Library Access',
                        data: [80, 100, 110, 140, 130, 170, 190],
                        borderColor: '#3b82f6',
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.4
                    }]
                }, commonOptions);

                createChart('chart-overview-pie', 'doughnut', {
                    labels: ['Social', 'Direct', 'Organic', 'Referral'],
                    datasets: [{
                        data: [35, 25, 30, 10],
                        backgroundColor: ['#0ea5e9', '#3b82f6', '#22d3ee', '#94a3b8'],
                        borderWidth: 0
                    }]
                }, { ...commonOptions, scales: {} }); // Remove scales for pie
            }

            // SOCIAL CHARTS
            if (view === 'social') {
                createChart('chart-social-bar', 'bar', {
                    labels: ['Facebook', 'Instagram', 'TikTok', 'X', 'YouTube'],
                    datasets: [{
                        label: 'Followers (Thousands)',
                        data: [120, 85, 210, 45, 92],
                        backgroundColor: ['#1877F2', '#E4405F', '#000000', '#14171A', '#FF0000'],
                        borderRadius: 4
                    }]
                }, commonOptions);

                createChart('chart-social-line', 'line', {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                    datasets: [{
                        label: 'Engagement Rate (%)',
                        data: [4.2, 4.5, 4.1, 5.2],
                        borderColor: '#10b981',
                        tension: 0.3
                    }]
                }, commonOptions);
            }

            // WEB CHARTS
            if (view === 'web') {
                createChart('chart-web-area', 'line', {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Unique Visitors',
                        data: [30000, 35000, 32000, 40000, 42000, 45231],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                }, commonOptions);
            }

            // GAMES CHARTS
            if (view === 'games') {
                createChart('chart-games-pie', 'pie', {
                    labels: ['Cyber Runner', 'Spudy Puzzle', 'Space Quest', 'Others'],
                    datasets: [{
                        data: [45, 25, 20, 10],
                        backgroundColor: ['#0ea5e9', '#22d3ee', '#6366f1', '#cbd5e1'],
                        borderWidth: 0
                    }]
                }, { ...commonOptions, scales: {} });
            }

            // LIBRARY CHARTS
            if (view === 'library') {
                createChart('chart-library-bar', 'bar', {
                    labels: ['Technology', 'Science', 'Fiction', 'Business', 'Art'],
                    datasets: [{
                        label: 'Downloads by Category',
                        data: [650, 400, 300, 550, 200],
                        backgroundColor: '#8b5cf6',
                        borderRadius: 4
                    }]
                }, commonOptions);
            }
        }

        // Helper to destroy old chart and create new one
        function createChart(canvasId, type, data, options) {
            const ctx = document.getElementById(canvasId).getContext('2d');
            
            // Destroy existing if present
            if (chartInstances[canvasId]) {
                chartInstances[canvasId].destroy();
            }

            chartInstances[canvasId] = new Chart(ctx, {
                type: type,
                data: data,
                options: options
            });
        }

        // === UI Interactions ===
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('absolute');
            sidebar.classList.toggle('h-full');
            sidebar.classList.toggle('w-64');
            sidebar.classList.toggle('bg-white');
            sidebar.classList.toggle('shadow-xl');
        }

        function exportReport() {
            const btn = event.currentTarget;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin w-5"></i> <span class="ml-3 text-sm font-medium">Generating...</span>';
            
            setTimeout(() => {
                alert("Report for Spudy Intelligence Group has been generated and downloaded as PDF.");
                btn.innerHTML = originalText;
            }, 1500);
        }

        function updateData() {
            // Mock function to simulate data change animation
            const mainContent = document.getElementById('main-scroll');
            mainContent.style.opacity = '0.5';
            setTimeout(() => {
                mainContent.style.opacity = '1';
                // In a real app, this would fetch new JSON data
            }, 300);
        }

        // Initialize Default View
        document.addEventListener('DOMContentLoaded', () => {
            switchView('overview');
        });

    </script>
</body>
</html>
